{% load static %}

<div id="toast" class="toast" style="display:none;"></div>
<button id="btn-save" type="button">Enregistrer</button>

<table id="vehicules-table">
  <thead>
    <tr>
      <th>Véhicule</th>
      <th>Type</th>
      <th>Archivé</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    {% for v in vehicules %}
      <tr data-pk="{{ v.vehicule }}">
        <td class="pk">{{ v.vehicule }}</td>
        <td><input class="type-input" type="text" value="{{ v.type|default_if_none:'' }}"></td>
        <td style="text-align:center">
          <input class="archive-input" type="checkbox" {% if v.archive %}checked{% endif %}>
        </td>
        <td>
          <button class="btn-delete" type="button">Supprimer</button>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="4">Aucun véhicule.</td></tr>
    {% endfor %}
  </tbody>
</table>

<script>
  // Mets core:... seulement si ton namespace est bien activé
  window.VEHICULES_SAVE_URL = "{% url 'core:vehicules_save' %}";
  window.VEHICULE_DELETE_URL = "{% url 'core:vehicule_delete' '___PK___' %}";
</script>

<script src="{% static 'core/js/vehicules.js' %}"></script>
