{% extends "core/base.html" %}

{% block title %}Agents{% endblock %}

{% block content %}
<div class="card">
  <div class="card__pad">

    <div class="header">
      <div>
        <h1 class="h1">Agents</h1>
        <p class="sub">Gestion des agents enregistres</p>
      </div>

      <a href="{% url 'core:agent_create' %}" class="btn btn--primary">
        + Nouvel agent
      </a>
    </div>

    <form method="get" class="actions" style="margin-bottom: 14px; justify-content: flex-start;">
      <label for="date" class="sub" style="align-self: center;">Date</label>
      <input id="date" name="date" type="date" class="input" value="{{ selected_date|date:'Y-m-d' }}" style="max-width: 220px;">
      <button type="submit" class="btn btn--ghost">Filtrer</button>
    </form>

    <div class="table-wrap">
      <table class="table">
        <thead>
          <tr>
            <th>Nom</th>
            <th>Prenom</th>
            <th>Qualification</th>
            <th>Service</th>
            <th class="right">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for agent in object_list %}
          <tr>
            <td>{{ agent.nom }}</td>
            <td>{{ agent.prenom }}</td>
            <td>{{ agent.qualification }}</td>
            <td>{{ agent.service }}</td>
            <td class="right">
              <div class="actions">
                <a href="{% url 'core:agent_update' agent.id %}" class="btn btn--sm btn--ghost">Modifier</a>
                <a href="{% url 'core:agent_delete' agent.id %}" class="btn btn--sm btn--danger">Supprimer</a>
              </div>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="sub">Aucun agent enregistre</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>
</div>
{% endblock %}
